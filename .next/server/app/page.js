(()=>{var e={};e.id=931,e.ids=[931],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3099:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>p,pages:()=>c,routeModule:()=>m,tree:()=>d}),t(908),t(1506),t(5866);var s=t(3191),r=t(8716),o=t(7922),n=t.n(o),l=t(5231),i={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);t.d(a,i);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,908)),"D:\\Transelca - Martin Pinedo\\Proyecto-Desglose-de-Torres\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,1506)),"D:\\Transelca - Martin Pinedo\\Proyecto-Desglose-de-Torres\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],c=["D:\\Transelca - Martin Pinedo\\Proyecto-Desglose-de-Torres\\app\\page.tsx"],p="/page",x={require:t,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4210:()=>{},9321:(e,a,t)=>{Promise.resolve().then(t.bind(t,8743))},9096:(e,a,t)=>{Promise.resolve().then(t.t.bind(t,2994,23)),Promise.resolve().then(t.t.bind(t,6114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,9671,23)),Promise.resolve().then(t.t.bind(t,1868,23)),Promise.resolve().then(t.t.bind(t,4759,23))},8743:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>n});var s=t(326),r=t(7577),o=t(434);function n(){let[e,a]=(0,r.useState)({tipo:"",fabricante:"",cabeza:"",parte:"",cuerpo:"",tramo:""}),[t,n]=(0,r.useState)({TIPO:[],FABRICANTE:[],CABEZA:[],CUERPO:[],PARTE_DIVISION:[],TRAMO:[]}),[i,d]=(0,r.useState)([]),[c,p]=(0,r.useState)(!1),[x,m]=(0,r.useState)("Esperando b\xfasqueda... (B\xfasqueda exacta activada)"),u=(e,t)=>{a(a=>({...a,[e]:t}))},h=async a=>{a.preventDefault(),p(!0),m("Buscando...");try{let a=new URLSearchParams;Object.entries(e).forEach(([e,t])=>{t&&a.append(e,t)});let t=await fetch(`/api/search?${a}`),s=await t.json();s.success?(d(s.results),m(`âœ… Resultados encontrados: ${s.count} (B\xfasqueda exacta)`)):m(`âŒ Error: ${s.message}`)}catch(e){m(`ðŸš¨ Error de conexi\xf3n: ${e instanceof Error?e.message:"Error desconocido"}`)}finally{p(!1)}};return s.jsx("div",{className:"p-4 sm:p-8",children:(0,s.jsxs)("div",{className:"container mx-auto max-w-7xl bg-white p-6 sm:p-10 rounded-xl shadow-2xl",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6 border-b-2 border-gray-200 pb-2",children:[s.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold text-[#004d99]",children:"Buscador de Desglose de Torres \uD83D\uDD29"}),(0,s.jsxs)(o.default,{href:"/calculadora",className:"bg-indigo-600 text-white hover:bg-indigo-700 transition duration-150 ease-in-out font-semibold py-2 px-4 rounded-lg shadow-md flex items-center whitespace-nowrap text-sm sm:text-base",children:[s.jsx("span",{className:"mr-2 hidden sm:inline",children:"âž¡ï¸"})," Ir a Calculadora"]})]}),(0,s.jsxs)("form",{onSubmit:h,children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-6",children:[s.jsx(l,{label:"TIPO:",value:e.tipo,options:t.TIPO,onChange:e=>u("tipo",e),placeholder:"Todos los Tipos"}),s.jsx(l,{label:"FABRICANTE:",value:e.fabricante,options:t.FABRICANTE,onChange:e=>u("fabricante",e),placeholder:"Todos los Fabricantes"}),s.jsx(l,{label:"CABEZA:",value:e.cabeza,options:t.CABEZA,onChange:e=>u("cabeza",e),placeholder:"Todas las Cabezas"}),s.jsx(l,{label:"PARTE (DIVISI\xd3N):",value:e.parte,options:t.PARTE_DIVISION,onChange:e=>u("parte",e),placeholder:"Todas las Partes"}),s.jsx(l,{label:"CUERPO:",value:e.cuerpo,options:t.CUERPO,onChange:e=>u("cuerpo",e),placeholder:"Todos los Cuerpos"}),s.jsx(l,{label:"TRAMO:",value:e.tramo,options:t.TRAMO,onChange:e=>u("tramo",e),placeholder:"Todos los Tramos"})]}),s.jsx("button",{type:"submit",disabled:c,className:"w-full sm:w-auto mt-2 py-3 px-6 bg-[#007bff] text-white font-bold rounded-md hover:bg-blue-600 transition duration-200 shadow-lg disabled:opacity-50",children:"\uD83D\uDD0D Buscar Desglose"})]}),s.jsx("p",{className:"mt-8 font-semibold text-gray-600",children:x}),s.jsx("div",{className:"overflow-x-auto max-h-[60vh] overflow-y-auto mt-4 border border-gray-200 rounded-lg shadow-inner",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-100 sticky top-0 z-10",children:s.jsx("tr",{children:["Material","Texto Breve","TIPO","FABRICANTE","CABEZA","PARTE(DIVISION)","CUERPO","TRAMO","Posici\xf3n","Descripci\xf3n","Long 2","Cantidad x Torre","Peso Unitario","PLANO","Mod Plano"].map(e=>s.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-gray-600 uppercase tracking-wider",children:e},e))})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:i.map((e,a)=>(0,s.jsxs)("tr",{className:"hover:bg-gray-50 transition duration-100",children:[s.jsx("td",{className:"px-6 py-3 whitespace-nowrap text-sm text-gray-800",children:e.ID_ITEM||"-"}),s.jsx("td",{className:"px-6 py-3 whitespace-nowrap text-sm text-gray-800",children:e.TEXTO_BREVE_DEL_MATERIAL||"-"}),s.jsx("td",{className:"px-6 py-3 whitespace-nowrap text-sm text-gray-800",children:e.TIPO||"-"}),s.jsx("td",{className:"px-6 py-3 whitespace-nowrap text-sm text-gray-800",children:e.FABRICANTE||"-"}),s.jsx("td",{className:"px-6 py-3 whitespace-nowrap text-sm text-gray-800",children:e.CABEZA||"-"}),s.jsx("td",{className:"px-6 py-3 whitespace-nowrap text-sm text-gray-800",children:e.PARTE_DIVISION||"-"}),s.jsx("td",{className:"px-6 py-3 whitespace-nowrap text-sm text-gray-800",children:e.CUERPO||"-"}),s.jsx("td",{className:"px-6 py-3 whitespace-nowrap text-sm text-gray-800",children:e.TRAMO||"-"}),s.jsx("td",{className:"px-6 py-3 whitespace-nowrap text-sm text-gray-800",children:e.POSICION||"-"}),s.jsx("td",{className:"px-6 py-3 whitespace-nowrap text-sm text-gray-800",children:e.DESCRIPCION||"-"}),s.jsx("td",{className:"px-6 py-3 whitespace-nowrap text-sm text-gray-800",children:e.LONG_2_PRINCIPAL||"-"}),s.jsx("td",{className:"px-6 py-3 whitespace-nowrap text-sm text-gray-800",children:e.CANTIDAD_X_TORRE||"-"}),s.jsx("td",{className:"px-6 py-3 whitespace-nowrap text-sm text-gray-800",children:e.PESO_UNITARIO?`${Number(e.PESO_UNITARIO).toFixed(2)} kg`:"-"}),s.jsx("td",{className:"px-6 py-3 whitespace-nowrap text-sm text-gray-800",children:e.PLANO||"-"}),s.jsx("td",{className:"px-6 py-3 whitespace-nowrap text-sm text-gray-800",children:e.MOD_PLANO||"-"})]},a))})]})})]})})}function l({label:e,value:a,options:t,onChange:r,placeholder:o}){return(0,s.jsxs)("div",{className:"form-group",children:[s.jsx("label",{className:"block mb-1 font-semibold text-gray-700",children:e}),(0,s.jsxs)("select",{value:a,onChange:e=>r(e.target.value),className:"p-2 border border-gray-300 rounded-md w-full focus:ring-indigo-500 focus:border-indigo-500",children:[s.jsx("option",{value:"",children:o}),t.map(e=>s.jsx("option",{value:e,children:e},e))]})]})}},1506:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>o,metadata:()=>r});var s=t(1159);t(7272);let r={title:"Desglose de Torres",description:"Sistema de b\xfasqueda y c\xe1lculo de materiales para torres"};function o({children:e}){return s.createElement("html",{lang:"es"},s.createElement("body",null,e))}},908:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>s});let s=(0,t(8570).createProxy)(String.raw`D:\Transelca - Martin Pinedo\Proyecto-Desglose-de-Torres\app\page.tsx#default`)},7272:()=>{}};var a=require("../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),s=a.X(0,[276,471,434],()=>t(3099));module.exports=s})();